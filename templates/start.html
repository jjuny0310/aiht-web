<!DOCTYPE html>
<html lang="ko">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
        <meta name="description" content="" />
        <meta name="author" content="" />
        <title>AI Home Training</title>
        <!-- Favicon-->
        <link rel="icon" type="image/x-icon" href="../static/assets/favicon.ico" />
        <!-- Font Awesome icons (free version)-->
        <script src="https://use.fontawesome.com/releases/v5.15.3/js/all.js" crossorigin="anonymous"></script>
        <!-- Simple line icons-->
        <link href="https://cdnjs.cloudflare.com/ajax/libs/simple-line-icons/2.5.5/css/simple-line-icons.min.css" rel="stylesheet" />
        <!-- Google fonts-->
        <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,700,300italic,400italic,700italic" rel="stylesheet" type="text/css" />
        <!-- Core theme CSS (includes Bootstrap)-->
        <link href="../static/css/styles.css" rel="stylesheet" />
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.2/css/bulma.min.css">
        <style>
            {#좌우반전#}
            #input_video
            {
            transform: rotateY(180deg);
            -webkit-transform:rotateY(180deg); /* Safari and Chrome */
            -moz-transform:rotateY(180deg); /* Firefox */
            }
            #output_canvas
            {
            transform: rotateY(180deg);
            -webkit-transform:rotateY(180deg); /* Safari and Chrome */
            -moz-transform:rotateY(180deg); /* Firefox */
            }
        </style>
        <script src="https://code.jquery.com/jquery-latest.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/@mediapipe/camera_utils/camera_utils.js" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/@mediapipe/control_utils/control_utils.js" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/@mediapipe/drawing_utils/control_utils_3d.js" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/@mediapipe/drawing_utils/drawing_utils.js" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/@mediapipe/pose/pose.js" crossorigin="anonymous"></script>
    </head>

    <body id="page-top">
        <!-- Navigation-->
        <a class="menu-toggle rounded" href="#"><i class="fas fa-bars"></i></a>
        <nav id="sidebar-wrapper">
            <ul class="sidebar-nav">
                {% if session['login'] %}
                    <li class="sidebar-brand" style="color: white"><strong style="color: white">{{ session['nickname'] }}</strong>님</li>
                    <li class="sidebar-nav-item"><a href="/">Home</a></li>
                    <li class="sidebar-nav-item"><a href="#services">내 정보</a></li>
                    <li class="sidebar-nav-item"><a href="#portfolio">운동내역</a></li>
                    <li class="sidebar-nav-item"><a href="/logout">로그아웃</a></li>
                {% else %}
                    <li class="sidebar-brand"><a href="/login"><strong>로그인</strong>하세요</a></li>
                    <li class="sidebar-nav-item"><a href="/">Home</a></li>
                {% endif %}
            </ul>
        </nav>
        <!-- 웹캠-->
        <header class="masthead d-flex align-items-center">
                <div class="container" style="margin-top: 20px;">
                    <div class="columns">

                      <!-- Trainer Video -->
                      <div class="column">
                        <article class="panel is-info">
                          <p class="panel-heading">
                            Trainer Video
                          </p>
                          <div class="panel-block">
                            <video id="trainer_video" src="../static/video/1.mp4" muted controls></video>
                          </div>
                        </article>
                      </div>

                      <!-- Webcam -->
                      <div class="column">
                        <article class="panel is-info">
                          <p id="count" class="panel-heading">
                            횟수 : 0
                          </p>
                          <div class="panel-block">
                            <video id="input_video" class="input_video" style="display: none"></video>
                            <canvas id="output_canvas" class="output_canvas" width="480x" height="480px"></canvas>
                          </div>
                        </article>
                      </div>
                    </div>
                  </div>
                </div>

            <script src="../static/js/human_pose.js"></script>
        </header>
        <!-- Scroll to Top Button-->
        <a class="scroll-to-top rounded" href="#page-top"><i class="fas fa-angle-up"></i></a>
        <!-- Bootstrap core JS-->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/js/bootstrap.bundle.min.js"></script>
        <!-- Core theme JS-->
        <script src="../static/js/scripts.js"></script>
    </body>
</html>
